<layout>
    <form *as="form" (submit)="this.updateProfile($el)">
        <div class="rows">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" data-target="#overview-tab">
                        <fa icon="street-view mr-1"></fa>
                        Overview
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" data-target="#account-info-tab">
                        <fa icon="user mr-1"></fa>
                        Account info
                    </a>
                </li>
                <li *if="this.user.total.tracks > 0" class="nav-item">
                    <a class="nav-link" (click)="this.loadTracks()" data-toggle="tab" data-target="#academy-tracks-tab">
                        <fa icon="university mr-1"></fa>
                        Academy tracks
                        <span class="badge total-answers badge-success" [html]="this.user.total.tracks"></span>
                    </a>
                </li>
                <li *if="Object.get(this.user.total, 'einstein.categories') > 0" class="nav-item">
                    <a class="nav-link" (click)="this.loadEinsteinCategories()" data-toggle="tab"
                        data-target="#einstein-categories-tab">
                        <img [src]="assets('images/ein-sm.png')" class="einstein-icon" [alt]="'Einstein Chamber'" />
                        Einstein categories
                        <span class="badge total-answers btn-purple"
                            [html]="this.user.total.einstein.categories"></span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" data-target="#affiliate-tab">
                        <fa icon="user-plus mr-1"></fa>
                        Affiliate program
                    </a>
                </li>
            </ul>
            <!-- Nav tabs -->
            <div class="cols">
                <div class="tab-content">
                    <div class="tab-pane fade" id="overview-tab">
                        <profile-overview-tab></profile-overview-tab>
                    </div>
                    <div class="tab-pane fade" id="account-info-tab" role="tabpanel" aria-labelledby="account-info-tab">
                        <profile-account-info-info-tab></profile-account-info-info-tab>
                    </div>
                    <div class="tab-pane fade" id="academy-tracks-tab" role="tabpanel"
                        aria-labelledby="academy-tracks-tab">
                        <profile-academy-tracks-tab></profile-academy-tracks-tab>
                    </div>

                    <div class="tab-pane fade" id="einstein-categories-tab" role="tabpanel"
                        aria-labelledby="einstein-categories-tab">
                        <profile-einstein-categories-tab></profile-einstein-categories-tab>
                    </div>
                    <div class="tab-pane fade" id="affiliate-tab" role="tabpanel" aria-labelledby="affiliate-tab">
                        <profile-affiliate-tab></profile-affiliate-tab>
                    </div>
                </div>
            </div>
        </div>
    </form>
</layout>
<flk-message *if="this.updateMessage" (close)="this.updateMessage = null" [html]="this.updateMessage"></flk-message>
